{"ast":null,"code":"var _jsxFileName = \"F:\\\\D3\\\\2019\\u6D59\\u5927\\u6691\\u671F\\u5B66\\u4E60\\\\SummerCourse2019-master\\\\SummerCourse2019-master\\\\vis\\\\src\\\\App.jsx\";\nimport React from \"react\";\nimport ReactDOM from 'react-dom';\nimport * as d3 from \"d3\";\nimport \"./App.css\";\nimport { Col, Row } from \"antd\";\nimport Snapshots from \"./snapshots\";\nimport Graph from \"./graph\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getChildData = res => {\n      console.log(res); // this.setState({\n      //     res:res\n      // })\n      //d3.select(\"#graph\").remove()\n\n      delete document.getElementById('graph');\n      d3.json(\"./test_data.json\").then(snapshots => {\n        this.setState({\n          res: res,\n          snapshots: snapshots,\n          graph: snapshots[res].graph\n        });\n      }); // this.setState({\n      // \t\tmsg:res\n      // })\n      //console.log(this.state.msg)\n      //ReactDOM.render(element, container[, callback])\n\n      d3.select(\"#graph\").selectAll(\"line\").remove();\n      d3.select(\"#graph\").selectAll(\"circle\").remove();\n      this.render(); //return res\n    };\n\n    this.state = {\n      snapshots: [],\n      graph: {},\n      res: 0\n    };\n  }\n\n  componentDidMount() {\n    d3.json(\"./test_data.json\").then(snapshots => {\n      //console.log(snapshots)\n      this.setState({\n        snapshots: snapshots,\n        graph: snapshots[this.state.res].graph\n      });\n    });\n  } //子组件传递数据\n\n\n  render() {\n    const snapshots = this.state.snapshots;\n    const graph = this.state.graph;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Snapshots, {\n      snapshots: snapshots,\n      news: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Graph, {\n      graph: graph,\n      id: \"graphs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["F:\\D3\\2019浙大暑期学习\\SummerCourse2019-master\\SummerCourse2019-master\\vis\\src\\App.jsx"],"names":["React","ReactDOM","d3","Col","Row","Snapshots","Graph","App","Component","constructor","props","getChildData","res","console","log","document","getElementById","json","then","snapshots","setState","graph","select","selectAll","remove","render","state","componentDidMount"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,OAAO,WAAP;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,MAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AACA,MAAMC,GAAN,SAAkBP,KAAK,CAACQ,SAAxB,CAAkC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAmBnBC,YAnBmB,GAmBLC,GAAD,IAAO;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADgB,CAEhB;AACA;AACA;AACA;;AACA,aAAOG,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAP;AACAd,MAAAA,EAAE,CAACe,IAAH,CAAQ,kBAAR,EAA4BC,IAA5B,CAAiCC,SAAS,IAAI;AAC1C,aAAKC,QAAL,CAAc;AACVR,UAAAA,GAAG,EAACA,GADM;AAEVO,UAAAA,SAAS,EAAEA,SAFD;AAGVE,UAAAA,KAAK,EAAEF,SAAS,CAACP,GAAD,CAAT,CAAeS;AAHZ,SAAd;AAKH,OAND,EAPgB,CActB;AACA;AACM;AACA;AACA;;AACAnB,MAAAA,EAAE,CAACoB,MAAH,CAAU,QAAV,EAAoBC,SAApB,CAA8B,MAA9B,EAAsCC,MAAtC;AACAtB,MAAAA,EAAE,CAACoB,MAAH,CAAU,QAAV,EAAoBC,SAApB,CAA8B,QAA9B,EAAwCC,MAAxC;AACA,WAAKC,MAAL,GArBgB,CAsBhB;AACN,KA1CqB;;AAEf,SAAKC,KAAL,GAAa;AACTP,MAAAA,SAAS,EAAE,EADF;AAETE,MAAAA,KAAK,EAAE,EAFE;AAGTT,MAAAA,GAAG,EAAE;AAHI,KAAb;AAKH;;AAEDe,EAAAA,iBAAiB,GAAG;AAChBzB,IAAAA,EAAE,CAACe,IAAH,CAAQ,kBAAR,EAA4BC,IAA5B,CAAiCC,SAAS,IAAI;AAC1C;AACA,WAAKC,QAAL,CAAc;AACVD,QAAAA,SAAS,EAAEA,SADD;AAEVE,QAAAA,KAAK,EAAEF,SAAS,CAAC,KAAKO,KAAL,CAAWd,GAAZ,CAAT,CAA0BS;AAFvB,OAAd;AAIH,KAND;AAOH,GAlB6B,CAmB9B;;;AA0BAI,EAAAA,MAAM,GAAG;AACL,UAAMN,SAAS,GAAG,KAAKO,KAAL,CAAWP,SAA7B;AACA,UAAME,KAAK,GAAG,KAAKK,KAAL,CAAWL,KAAzB;AACA,WACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAEF,SAAtB;AAAiC,MAAA,IAAI,EAAE,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAII,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEE,KAAd;AAAqB,MAAA,EAAE,EAAC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ,CADJ;AAYH;;AA5D6B;;AAgElC,eAAed,GAAf","sourcesContent":["import React from \"react\"\nimport ReactDOM from 'react-dom';\nimport * as d3 from \"d3\"\nimport \"./App.css\"\nimport { Col, Row } from \"antd\"\nimport Snapshots from \"./snapshots\"\nimport Graph from \"./graph\"\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            snapshots: [],\n            graph: {},\n            res: 0,\n        }\n    }\n\n    componentDidMount() {\n        d3.json(\"./test_data.json\").then(snapshots => {\n            //console.log(snapshots)\n            this.setState({\n                snapshots: snapshots,\n                graph: snapshots[this.state.res].graph,\n            })\n        })\n    }\n    //子组件传递数据\n    getChildData=(res)=>{\n        console.log(res)\n        // this.setState({\n        //     res:res\n        // })\n        //d3.select(\"#graph\").remove()\n        delete(document.getElementById('graph'))\n        d3.json(\"./test_data.json\").then(snapshots => {\n            this.setState({\n                res:res,\n                snapshots: snapshots,\n                graph: snapshots[res].graph,\n            })\n        })\n\t\t// this.setState({\n\t\t// \t\tmsg:res\n        // })\n        //console.log(this.state.msg)\n        //ReactDOM.render(element, container[, callback])\n        d3.select(\"#graph\").selectAll(\"line\").remove()\n        d3.select(\"#graph\").selectAll(\"circle\").remove()\n        this.render()\n        //return res\n\t}\n\n    render() {\n        const snapshots = this.state.snapshots\n        const graph = this.state.graph\n        return (\n            <div className=\"App\">\n                <Row>\n                    <Col span={12}>\n                        <Snapshots snapshots={snapshots} news={this}/>\n                    </Col>\n                    <Col span={12}>\n                        <Graph graph={graph} id=\"graphs\"/>\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}