{"ast":null,"code":"var _jsxFileName = \"F:\\\\D3\\\\2019\\u6D59\\u5927\\u6691\\u671F\\u5B66\\u4E60\\\\SummerCourse2019-master\\\\SummerCourse2019-master\\\\vis\\\\src\\\\scatter.jsx\";\nimport React, { Component } from \"react\";\nimport * as d3 from \"d3\";\n\nclass Scatter extends Component {\n  componentWillReceiveProps(props) {\n    const scatter = props.scatter;\n    const line_scatter = props.scatter_lines;\n    const scatterSVG = d3.select(\"#scatter\");\n    const padding = 100;\n    const width = scatterSVG.node().parentNode.clientWidth;\n    scatterSVG.attr(\"width\", width).attr(\"height\", width);\n    var xscale = d3.scaleLinear().domain([0, 10]).range([padding, width - padding]);\n    var yscale = d3.scaleLinear().domain([0, 50]).range([width - padding, padding]);\n    var xAxis = d3.axisBottom().scale(xscale).ticks(5);\n    var yAxis = d3.axisLeft().scale(yscale).ticks(5);\n    scatterSVG.append(\"g\").attr(\"transform\", \"translate(0,\" + (width - padding) + \")\").call(xAxis);\n    scatterSVG.append(\"g\").attr(\"transform\", \"translate(\" + padding + \",0\" + \")\").call(yAxis); //console.log(\"scatter\"+scatter);\n\n    scatterSVG.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(line_scatter).enter().append(\"line\").attr(\"stroke\", \"#0f0\").attr(\"fill\", \"red\").attr(\"x1\", function (data) {\n      return xscale(data[\"x1\"]);\n    }).attr(\"y1\", function (data) {\n      return yscale(data[\"y1\"]);\n    }).attr(\"x2\", function (data) {\n      return xscale(data[\"x2\"]);\n    }).attr(\"y2\", function (data) {\n      return yscale(data[\"y2\"]);\n    });\n    scatterSVG.append(\"g\").attr(\"class\", \"circles\").selectAll(\"circle\").data(scatter).enter().append(\"circle\").attr(\"cx\", function (data) {\n      console.log(\"cx\");\n      console.log(xscale(data));\n      return xscale(data[0]);\n    }).attr(\"cy\", function (data) {\n      console.log(yscale(data[1]));\n      return yscale(data[1]);\n    }).attr(\"r\", 5);\n  }\n\n  render() {\n    return React.createElement(\"svg\", {\n      id: \"scatter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Scatter;","map":{"version":3,"sources":["F:\\D3\\2019浙大暑期学习\\SummerCourse2019-master\\SummerCourse2019-master\\vis\\src\\scatter.jsx"],"names":["React","Component","d3","Scatter","componentWillReceiveProps","props","scatter","line_scatter","scatter_lines","scatterSVG","select","padding","width","node","parentNode","clientWidth","attr","xscale","scaleLinear","domain","range","yscale","xAxis","axisBottom","scale","ticks","yAxis","axisLeft","append","call","selectAll","data","enter","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAC5BG,EAAAA,yBAAyB,CAACC,KAAD,EAAQ;AAC7B,UAAMC,OAAO,GAAGD,KAAK,CAACC,OAAtB;AACA,UAAMC,YAAY,GAAGF,KAAK,CAACG,aAA3B;AACA,UAAMC,UAAU,GAAGP,EAAE,CAACQ,MAAH,CAAU,UAAV,CAAnB;AACA,UAAMC,OAAO,GAAG,GAAhB;AACA,UAAMC,KAAK,GAAGH,UAAU,CAACI,IAAX,GAAkBC,UAAlB,CAA6BC,WAA3C;AACAN,IAAAA,UAAU,CAACO,IAAX,CAAgB,OAAhB,EAAyBJ,KAAzB,EAAgCI,IAAhC,CAAqC,QAArC,EAA+CJ,KAA/C;AACA,QAAIK,MAAM,GAAGf,EAAE,CAACgB,WAAH,GACIC,MADJ,CACW,CAAC,CAAD,EAAG,EAAH,CADX,EAEIC,KAFJ,CAEU,CAACT,OAAD,EAASC,KAAK,GAAED,OAAhB,CAFV,CAAb;AAGA,QAAIU,MAAM,GAAGnB,EAAE,CAACgB,WAAH,GACIC,MADJ,CACW,CAAC,CAAD,EAAG,EAAH,CADX,EAEIC,KAFJ,CAEU,CAACR,KAAK,GAAED,OAAR,EAAgBA,OAAhB,CAFV,CAAb;AAGA,QAAIW,KAAK,GAAGpB,EAAE,CAACqB,UAAH,GACKC,KADL,CACWP,MADX,EAEKQ,KAFL,CAEW,CAFX,CAAZ;AAGA,QAAIC,KAAK,GAAGxB,EAAE,CAACyB,QAAH,GACKH,KADL,CACWH,MADX,EAEKI,KAFL,CAEW,CAFX,CAAZ;AAGAhB,IAAAA,UAAU,CAACmB,MAAX,CAAkB,GAAlB,EACiBZ,IADjB,CACsB,WADtB,EACkC,kBAAgBJ,KAAK,GAAGD,OAAxB,IAAiC,GADnE,EAEiBkB,IAFjB,CAEsBP,KAFtB;AAGAb,IAAAA,UAAU,CAACmB,MAAX,CAAkB,GAAlB,EACiBZ,IADjB,CACsB,WADtB,EACkC,eAAeL,OAAf,GAAyB,IAAzB,GAA+B,GADjE,EAEiBkB,IAFjB,CAEsBH,KAFtB,EAtB6B,CAyBb;;AAGhBjB,IAAAA,UAAU,CAACmB,MAAX,CAAkB,GAAlB,EACiBZ,IADjB,CACsB,OADtB,EAC+B,OAD/B,EAEiBc,SAFjB,CAE2B,MAF3B,EAGiBC,IAHjB,CAGsBxB,YAHtB,EAIiByB,KAJjB,GAKiBJ,MALjB,CAKwB,MALxB,EAMiBZ,IANjB,CAMsB,QANtB,EAMgC,MANhC,EAOiBA,IAPjB,CAOsB,MAPtB,EAO6B,KAP7B,EAQiBA,IARjB,CAQsB,IARtB,EAQ2B,UAASe,IAAT,EAAc;AACrB,aAAOd,MAAM,CAACc,IAAI,CAAC,IAAD,CAAL,CAAb;AACH,KAVjB,EAWiBf,IAXjB,CAWsB,IAXtB,EAW2B,UAASe,IAAT,EAAc;AACrB,aAAOV,MAAM,CAACU,IAAI,CAAC,IAAD,CAAL,CAAb;AACH,KAbjB,EAciBf,IAdjB,CAcsB,IAdtB,EAc2B,UAASe,IAAT,EAAc;AACrB,aAAOd,MAAM,CAACc,IAAI,CAAC,IAAD,CAAL,CAAb;AACH,KAhBjB,EAiBiBf,IAjBjB,CAiBsB,IAjBtB,EAiB2B,UAASe,IAAT,EAAc;AACrB,aAAOV,MAAM,CAACU,IAAI,CAAC,IAAD,CAAL,CAAb;AACH,KAnBjB;AAqBAtB,IAAAA,UAAU,CAACmB,MAAX,CAAkB,GAAlB,EACiBZ,IADjB,CACsB,OADtB,EAC+B,SAD/B,EAEiBc,SAFjB,CAE2B,QAF3B,EAGiBC,IAHjB,CAGsBzB,OAHtB,EAIiB0B,KAJjB,GAKiBJ,MALjB,CAKwB,QALxB,EAMiBZ,IANjB,CAMsB,IANtB,EAM2B,UAASe,IAAT,EAAc;AACrBE,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYjB,MAAM,CAACc,IAAD,CAAlB;AACA,aAAOd,MAAM,CAACc,IAAI,CAAC,CAAD,CAAL,CAAb;AACH,KAVjB,EAWiBf,IAXjB,CAWsB,IAXtB,EAW2B,UAASe,IAAT,EAAc;AACrBE,MAAAA,OAAO,CAACC,GAAR,CAAYb,MAAM,CAACU,IAAI,CAAC,CAAD,CAAL,CAAlB;AACA,aAAOV,MAAM,CAACU,IAAI,CAAC,CAAD,CAAL,CAAb;AACH,KAdjB,EAeiBf,IAfjB,CAesB,GAftB,EAe0B,CAf1B;AAkBH;;AACDmB,EAAAA,MAAM,GAAG;AACL,WAAO;AAAK,MAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAvE2B;;AA0EhC,eAAehC,OAAf","sourcesContent":["import React, { Component } from \"react\"\r\nimport * as d3 from \"d3\"\r\n\r\nclass Scatter extends Component {\r\n    componentWillReceiveProps(props) {\r\n        const scatter = props.scatter\r\n        const line_scatter = props.scatter_lines\r\n        const scatterSVG = d3.select(\"#scatter\")\r\n        const padding = 100\r\n        const width = scatterSVG.node().parentNode.clientWidth\r\n        scatterSVG.attr(\"width\", width).attr(\"height\", width)\r\n        var xscale = d3.scaleLinear()\r\n                        .domain([0,10])\r\n                        .range([padding,width -padding]);\r\n        var yscale = d3.scaleLinear()\r\n                        .domain([0,50])\r\n                        .range([width -padding,padding]);\r\n        var xAxis = d3.axisBottom()\r\n                        .scale(xscale)\r\n                        .ticks(5);\r\n        var yAxis = d3.axisLeft()\r\n                        .scale(yscale)\r\n                        .ticks(5);\r\n        scatterSVG.append(\"g\")\r\n                        .attr(\"transform\",\"translate(0,\"+(width - padding)+\")\")\r\n                        .call(xAxis);\r\n        scatterSVG.append(\"g\")\r\n                        .attr(\"transform\",\"translate(\" + padding + \",0\"+ \")\")\r\n                        .call(yAxis);\r\n                        //console.log(\"scatter\"+scatter);\r\n                        \r\n        \r\n        scatterSVG.append(\"g\")\r\n                        .attr(\"class\", \"links\")\r\n                        .selectAll(\"line\")\r\n                        .data(line_scatter)\r\n                        .enter()\r\n                        .append(\"line\")\r\n                        .attr(\"stroke\", \"#0f0\")\r\n                        .attr(\"fill\",\"red\")\r\n                        .attr(\"x1\",function(data){\r\n                            return xscale(data[\"x1\"]);\r\n                        })\r\n                        .attr(\"y1\",function(data){\r\n                            return yscale(data[\"y1\"]);\r\n                        })\r\n                        .attr(\"x2\",function(data){\r\n                            return xscale(data[\"x2\"]);\r\n                        })\r\n                        .attr(\"y2\",function(data){\r\n                            return yscale(data[\"y2\"]);\r\n                        });\r\n\r\n        scatterSVG.append(\"g\")\r\n                        .attr(\"class\", \"circles\")\r\n                        .selectAll(\"circle\")\r\n                        .data(scatter)\r\n                        .enter()\r\n                        .append(\"circle\")\r\n                        .attr(\"cx\",function(data){\r\n                            console.log(\"cx\");\r\n                            console.log(xscale(data));\r\n                            return xscale(data[0]);\r\n                        })\r\n                        .attr(\"cy\",function(data){\r\n                            console.log(yscale(data[1]));\r\n                            return yscale(data[1]);\r\n                        })\r\n                        .attr(\"r\",5);\r\n\r\n\r\n    }\r\n    render() {\r\n        return <svg id=\"scatter\" />\r\n    }\r\n}\r\n\r\nexport default Scatter\r\n"]},"metadata":{},"sourceType":"module"}