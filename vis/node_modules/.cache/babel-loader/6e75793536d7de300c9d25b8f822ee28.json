{"ast":null,"code":"var _jsxFileName = \"F:\\\\D3\\\\2019\\u6D59\\u5927\\u6691\\u671F\\u5B66\\u4E60\\\\SummerCourse2019-master\\\\SummerCourse2019-master\\\\vis\\\\src\\\\App.jsx\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport \"./App.css\";\nimport { Col, Row } from \"antd\";\nimport Snapshots from \"./snapshots\";\nimport Graph from \"./graph\";\nimport Scatter from \"./scatter\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getChildData = res => {\n      console.log(res); // this.setState({\n      //     res:res\n      // })\n      //d3.select(\"#graph\").remove()\n      // delete(document.getElementById('graph'))\n      // 清除画布\n\n      d3.select(\"#graph\").selectAll(\"line\").remove();\n      d3.select(\"#graph\").selectAll(\"circle\").remove();\n      d3.select(\"#scatter\").selectAll(\"line\").remove();\n      d3.select(\"#scatter\").selectAll(\"circle\").remove();\n      d3.json(\"./test_data.json\").then(snapshots => {\n        this.setState({\n          res: res,\n          snapshots: snapshots[0],\n          graph: snapshots[0][res].graph,\n          scatter: snapshots[1][res],\n          scatter_lines: snapshots[2][res]\n        });\n      }); // this.setState({\n      // \t\tmsg:res\n      // })\n      //console.log(this.state.msg)\n      //ReactDOM.render(element, container[, callback])\n\n      this.render(); //return res\n    };\n\n    this.state = {\n      snapshots: [],\n      graph: {},\n      scatter: {},\n      scatter_lines: {},\n      res: 0\n    };\n  }\n\n  componentDidMount() {\n    d3.json(\"./test_data.json\").then(snapshots => {\n      //console.log(snapshots)\n      //console.log(\"scatter[0]\");\n      //console.log(\"scatter[0]\" + snapshots[1][0]);\n      this.setState({\n        snapshots: snapshots[0],\n        graph: snapshots[0][this.state.res].graph,\n        scatter: snapshots[1][0],\n        scatter_lines: snapshots[2][0]\n      });\n    }); // d3.json(\"./test_datas.json\").then(scatter => {\n    //     //console.log(snapshots)\n    //     console.log(\"scatter[0]\");\n    //     this.setState({\n    //         scatter: scatter[0],\n    //     })\n    // })\n  } //子组件传递数据\n\n\n  render() {\n    const snapshots = this.state.snapshots;\n    const graph = this.state.graph;\n    const scatter = this.state.scatter;\n    const scatter_lines = this.state.scatter_lines;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Scatter, {\n      scatter: scatter,\n      scatter_lines: scatter_lines,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      span: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Snapshots, {\n      snapshots: snapshots,\n      news: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Col, {\n      span: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Graph, {\n      graph: graph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["F:\\D3\\2019浙大暑期学习\\SummerCourse2019-master\\SummerCourse2019-master\\vis\\src\\App.jsx"],"names":["React","d3","Col","Row","Snapshots","Graph","Scatter","App","Component","constructor","props","getChildData","res","console","log","select","selectAll","remove","json","then","snapshots","setState","graph","scatter","scatter_lines","render","state","componentDidMount"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport * as d3 from \"d3\"\nimport \"./App.css\"\nimport { Col, Row } from \"antd\"\nimport Snapshots from \"./snapshots\"\nimport Graph from \"./graph\"\nimport Scatter from \"./scatter\"\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            snapshots: [],\n            graph: {},\n            scatter:{},\n            scatter_lines:{},\n            res: 0,\n        }\n    }\n\n    componentDidMount() {\n        d3.json(\"./test_data.json\").then(snapshots => {\n            //console.log(snapshots)\n            //console.log(\"scatter[0]\");\n            //console.log(\"scatter[0]\" + snapshots[1][0]);\n            this.setState({\n                snapshots: snapshots[0],\n                graph: snapshots[0][this.state.res].graph,\n                scatter: snapshots[1][0],\n                scatter_lines: snapshots[2][0]\n            })\n        })\n        // d3.json(\"./test_datas.json\").then(scatter => {\n        //     //console.log(snapshots)\n        //     console.log(\"scatter[0]\");\n        //     this.setState({\n        //         scatter: scatter[0],\n        //     })\n        // })\n    }\n    //子组件传递数据\n    getChildData=(res)=>{\n        console.log(res)\n        // this.setState({\n        //     res:res\n        // })\n        //d3.select(\"#graph\").remove()\n        // delete(document.getElementById('graph'))\n        // 清除画布\n        d3.select(\"#graph\").selectAll(\"line\").remove()\n        d3.select(\"#graph\").selectAll(\"circle\").remove()\n        d3.select(\"#scatter\").selectAll(\"line\").remove()\n        d3.select(\"#scatter\").selectAll(\"circle\").remove()\n\n\n        d3.json(\"./test_data.json\").then(snapshots => {\n            this.setState({\n                res:res,\n                snapshots: snapshots[0],\n                graph: snapshots[0][res].graph,\n                scatter: snapshots[1][res],\n                scatter_lines: snapshots[2][res],\n            })\n        })\n\t\t// this.setState({\n\t\t// \t\tmsg:res\n        // })\n        //console.log(this.state.msg)\n        //ReactDOM.render(element, container[, callback])\n        \n        this.render()\n        //return res\n\t}\n\n    render() {\n        const snapshots = this.state.snapshots\n        const graph = this.state.graph\n        const scatter = this.state.scatter\n        const scatter_lines = this.state.scatter_lines\n        return (\n            <div className=\"App\">\n                <Row>\n                    <Col span={4}>\n                        <Row>\n                             <Scatter  scatter={scatter} scatter_lines = {scatter_lines}/>\n                        </Row>\n                    </Col>\n\n                    <Col span={8}>\n                        <Snapshots snapshots={snapshots} news={this}/>\n                    </Col>\n\n                    <Col span={8}>\n                        <Row >\n                            <Graph  graph={graph} />\n                        </Row>\n                    </Col>\n\n                </Row>\n            </div>\n        )\n    }\n}\n\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}